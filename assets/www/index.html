<!DOCTYPE HTML>
<html>
	<head>
		<title>Exercise Tracker</title>
		<link rel="stylesheet"  href="css/jquery.mobile-1.0.1.css" />
		
		<script src="js/libs/jquery.js"></script>
		<script src="js/libs/jquery.mobile-1.0.1.js"></script>
		<script src="js/libs/knockout-2.0.0.js"></script>
		<script src="js/libs/cordova-2.0.0.js"></script>
		<script src="js/libs/date.format.js"></script>
		
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAskqcGMbFzNWWwwc45An3IP7xU_6zm5SM&sensor=false"></script>
		
		<script src="js/mylibs/utils.js"></script>
		<script src="js/mylibs/workoutrepository.js"></script>
		<script src="js/mylibs/home.js"></script>
		<script src="js/mylibs/track.js"></script>
		<script src="js/mylibs/history.js"></script>
		<script src="js/mylibs/trackinfo.js"></script>
		<script src="js/mylibs/settings.js"></script>
	</head>
	<body>
		<!-- Start of Home page -->
		<div data-role="page" id="home">
		
			<div data-role="header">
			
				<h1>Home</h1>
			
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slide" data-icon="home" data-theme="b">Home</a></li>
						<li><a href="#tracking" data-transition="slide" data-icon="plus">Record</a></li>
						<li><a href="#history" data-transition="slide" data-icon="star">Rides</a></li>
						<li><a href="#settings" data-transition="slide" data-icon="gear">Settings</a></li>
					</ul>
				</div>
			</div>
		
			<div data-role="content">
				<p>Total Rides: <span data-bind="text: rideCount"></span></p>
				<p>Total Distance Covered: <span data-bind="text: distanceCount"></span>km</p>
			</div>	
		</div>
		
		<!-- Start of Tracking page -->
		<div data-role="page" id="tracking">
			<div data-role="header">
				<h1>Record</h1>
				
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slide" data-icon="home">Home</a></li>
						<li><a href="#tracking" data-transition="slide" data-icon="plus" data-theme="b">Record</a></li>
						<li><a href="#history" data-transition="slide" data-icon="star">Rides</a></li>
						<li><a href="#settings" data-transition="slide" data-icon="gear">Settings</a></li>
					</ul>
				</div>
			</div>
		
			<div data-role="content">
				<div data-role="fieldcontain" class="ui-hide-label" data-bind="visible: isTracking() == false">
					<label for="name">Track Name:</label>
					<input type="text" name="name" id="name" data-bind="value: name" placeholder="Track Name"/>
					<div data-bind="foreach: errors">
						<p data-bind="text: value"></p>
					</div>
				</div>
		
				<div data-role="button" data-bind="click: startTracking, visible: isTracking() == false" data-icon="check">Start Tracking</div>
				<div data-role="button" data-bind="click: stopTracking, visible: isTracking" data-icon="delete">Stop Tracking</div>
				
				<div id="current-coords" data-bind="visible: isTracking">
					<p>Name: <span data-bind="text: name"></span></p>
					<p>Distance: <span data-bind="text: distance"></span>km</p>
					<p>Elapsed Time: <span data-bind="text: elapsedTime"></span></p>
					<p>Latitude: <span data-bind="text: latitude"></span></p>
					<p>Longitude: <span data-bind="text: longitude"></span></p>
					
					<div id="track-map-canvas" style="width:100%;height:300px;"></div>
				</div>		
			</div>
		</div>
		
		<!-- Start of History page -->
		<div data-role="page" id="history">
		    <div data-role="header">
		        <h1>History</h1>
		        
		        <div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slide" data-icon="home">Home</a></li>
						<li><a href="#tracking" data-transition="slide" data-icon="plus">Record</a></li>
						<li><a href="#history" data-transition="slide" data-icon="star" data-theme="b">Rides</a></li>
						<li><a href="#settings" data-transition="slide" data-icon="gear">Settings</a></li>
					</ul>
				</div>
		    </div>
		
		    <div data-role="content">	
		        <p>Recorded Workouts: <span data-bind="text: tracks().length"></span></p>        
		        <ul id="history-tracklist" data-role="listview" data-inset="true" data-bind="foreach: tracks">
		        	<li><a href='#' data-bind="click: function(event) { $parent.raiseDetails($data); }"><span data-bind="text: name"></span></a></li>
		        </ul>
		    </div>
		</div>
		
		<!-- Start of Track Info page -->
		<div data-role="page" id="track-info">
		    <div data-role="header">
		        <h1><span data-bind="text: name"></span> Track Info</h1>
		        
		        <div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slide" data-icon="home">Home</a></li>
						<li><a href="#tracking" data-transition="slide" data-icon="plus">Record</a></li>
						<li><a href="#history" data-transition="slide" data-icon="star" data-theme="b">Rides</a></li>
						<li><a href="#settings" data-transition="slide" data-icon="gear">Settings</a></li>
					</ul>
				</div>
		    </div>
		
		    <div data-role="content">	
		    	<p>Distance: <span data-bind="text: distance"></span>km</p>
		    	<p>Start Time: <span data-bind="text: startDateTimeDisplay"></span></p>
		    	<p>End Time: <span data-bind="text: endDateTimeDisplay"></span></p>
		    	<p>Elapsed Time: <span data-bind="text: elapsedTime"></span></p>
		        <div id="track-info-map-canvas" data-bind="visible: hasMap" style="width:100%;height:300px;"></div>
		        <div data-role="button" data-bind="click: deleteItem" data-icon="delete">Delete</div>
		    </div>
		</div>
		
		<!-- Start of Settings page -->
		<div data-role="page" id="settings">
		
			<div data-role="header">
			
				<h1>Settings</h1>
			
				<div data-role="navbar">
					<ul>
						<li><a href="#home" data-transition="slide" data-icon="home">Home</a></li>
						<li><a href="#tracking" data-transition="slide" data-icon="plus">Record</a></li>
						<li><a href="#history" data-transition="slide" data-icon="star">Rides</a></li>
						<li><a href="#settings" data-transition="slide" data-icon="gear" data-theme="b">Settings</a></li>
					</ul>
				</div>
			</div>
		
			<div data-role="content">
				<div data-role="button" data-bind="click: clear">Clear Workouts</div>
			</div>	
		</div>
	</body>
</html>